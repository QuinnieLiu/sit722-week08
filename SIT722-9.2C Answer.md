# Detailed documentation

This document details the improvements made to the GitHub Actions workflows in the Week08 E-Commerce Application to align with DevOps best practices. The improvements focus on implementing proper branching strategies, automated CI/CD linking, and pull request validation.

## Issues Identified in Original Workflows

### 1. **Lack of Development Branch Strategy**
- **Issue**: All development occurred directly on the `main` branch
- **Impact**: No isolation for feature development; direct production deployments

### 2. **Disconnected CI/CD Workflows**
- **Issue**: Four separate workflows (backend CI, frontend CI, backend CD, frontend CD) with no automation linking
- **Impact**: Manual coordination required between CI and CD phases

### 3. **Missing Pull Request Validation**
- **Issue**: No automated checks before merging to main branch
- **Impact**: Potential for broken code to reach production

### 4. **Inconsistent Workflow Triggering**
- **Issue**: Mix of `workflow_dispatch` and `push` triggers without clear strategy
- **Impact**: Unclear when workflows should execute; manual deployment bottlenecks

### 5. **Limited Frontend Testing**
- **Issue**: Frontend CI workflow had no testing or validation steps
- **Impact**: Frontend changes deployed without quality assurance

## Implemented Improvements

### 1. **Pull Request Validation Workflow**
**File**: `.github/workflows/pr-validation.yml`
![](images-for-9.2C/SIT722-9.2C-00-pr%20validation%20code.png)

- **Purpose**: Validate code quality and functionality before merging to main/development
- **Key Features**:
  - Runs comprehensive backend tests with PostgreSQL services
  - Validates Docker builds for both services
  - Performs basic frontend validation and structure checks
  - Security scanning for hardcoded secrets
  - YAML syntax validation for workflow files
- **Triggers**: Pull requests to `main` or `development` branches
- **Benefits**: Prevents broken code from reaching main branches

### 2. **Enhanced Branch Strategy**
**Files Modified**: `backend_ci.yml`, `frontend_ci.yml`
![](images-for-9.2C/SIT722-9.2C-00-backend%20ci%20code.png)
![](images-for-9.2C/SIT722-9.2C-00-frontend%20ci%20code.png)
- **Improvement**: Added `development` branch support to CI workflows
- **Triggers**: Both `main` and `development` branch pushes
- **Logic**: Added conditional logic to only push images on actual pushes (not PRs)
- **Benefits**: Supports proper Git flow with development and feature branches

### 3. **Automated CI/CD Linking**
**Files Modified**: `backend-cd.yml`, `frontend-cd.yml`
![](images-for-9.2C/SIT722-9.2C-00-backend%20cd%20code.png)
![](images-for-9.2C/SIT722-9.2C-00-frontend%20cd%20code.png)
- **Improvement**: Added `workflow_run` triggers to automatically deploy after successful CI
- **Logic**:
  - CD workflows trigger automatically after CI completion
  - Only deploys on `main` branch (production)
  - Includes success condition checking
- **Configuration Management**: Dynamic parameter handling for different trigger types
- **Benefits**: Reduces manual intervention and speeds up deployment pipeline

## Demonstration of Improvements in Operation

### push backend changes to dev branch
![](images-for-9.2C/SIT722-9.2C-01-push%20dev.png)
### PR validation
![](images-for-9.2C/SIT722-9.2C-02-validate%20on%20pr.png)
![](images-for-9.2C/SIT722-9.2C-03-validate%20on%20pr2.png)
### PR merged
![](images-for-9.2C/SIT722-9.2C-04-merge%20pr.png)
### backend CICD
![](images-for-9.2C/SIT722-9.2C-05-backend%20ci.png)
![](images-for-9.2C/SIT722-9.2C-06-backend%20cd.png)
### frontend PR validation
![](images-for-9.2C/SIT722-9.2C-07-validate%20on%20pr%20frontend.png)
### frontend CICD
![](images-for-9.2C/SIT722-9.2C-08-frontend%20ci.png)
![](images-for-9.2C/SIT722-9.2C-09-frontend%20cd.png)
### AKS workloads
![](images-for-9.2C/SIT722-9.2C-11-aks%20all%20deployed.png)
### visit frontend
![](images-for-9.2C/SIT722-9.2C-12-visit%20frontend.png)
### all workflow runs
![](images-for-9.2C/SIT722-9.2C-13-all%20workflows.png)

## References

1. [https://docs.github.com/en/actions](https://docs.github.com/en/actions)
2. [https://docs.github.com/en/actions/security-guides/security-hardening-for-github-actions](https://docs.github.com/en/actions/security-guides/security-hardening-for-github-actions)
3. Laster, B. & Dunn, J. C. (2023). *Learning GitHub Actions: Automation and Integration of CI/CD with GitHub*. O'Reilly Media.
4. Kaufmann, M., Bos, R., de Vries, M., & Hanselman, S. (2025). *GitHub Actions in Action: Continuous Integration and Delivery for DevOps*. Manning Publications.
5. [https://docs.microsoft.com/en-us/azure/devops/learn/](https://docs.microsoft.com/en-us/azure/devops/learn/)